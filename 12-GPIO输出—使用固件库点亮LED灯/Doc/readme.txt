/*********************************************************************************************/
【*】程序简介

-工程名称：GPIO输出―使用固件库点亮LED灯
-实验平台: 野火STM32 霸道 开发板 

【 ！】功能简介：
控制GPIO引脚输出高低电平控制LED灯的亮灭，实现流水灯的效果


【 ！】实验操作：
编译并下载程序到开发板，复位后LED灯会以红-绿-蓝-红-绿-蓝-黄-紫-青-白-灭的顺序反复闪烁出现

/*********************************************************************************************/

【*】 引脚分配

	LED_R	<-----> PB5
	LED_G	<-----> PB0
	LED_B	<-----> PB1

	对应引脚低电平则LED灯亮

 * 对于霸道V2板，在实验中，请不要拔掉旁边J73对应盖好的黄色跳帽，这样会导致LED失去3V3的电源而不能工作。






/*********************************************************************************************/

程序描述：

bsp_led.h  （其中，bsp为Board Support Packet （板级支持包）的缩写）

	1.宏定义LED灯对应的GPIO端口，GPIO时钟，GPIO引脚。
	2.把LED的常用状态（亮、灭、状态反转）也直接定义成宏。
	3.把控制R、G、B灯的不同开关状态混出不同的颜色对应的状态定义成宏

bsp_led.c   <――>  LED GPIO初始化

	1.引用结构体
	2.开启GPIO对应的外设时钟
	3.设置引脚、模式、速度
	4.初始化GPIO（根据设定参数配置 GPIO）
	5.关闭所有的LED灯

main.c

	1.调用初始化LED GPIO函数
	2.控制LED的亮灭





/*********************************************************************************************/



GPIO寄存器描述 《STM32参考手册中文-p75》

1、端口配置低寄存器(GPIOx_CRL)(x = A...E)
2、端口配置高寄存器(GPIOx_CRH)(x = A...E)

3、端口输入数据寄存器(GPIOx_IDR)(x = A...E)
   这些位为只读并只能以字(16位)的形式读出。读出的值为对应I/O口的状态。
   
4、端口输出数据寄存器(GPIOx_ODR)(x = A...E)
   只能以字(16bit)的形式操作，复位值全是0。写0即输出0，写1即输出1。
   
5、端口位设置/清除寄存器(GPIOx_BSRR)(x = A...E)
   高16bit写1用于清0，低16bit写1用于置位，同时写1的话低16bi有效。
   
6、端口位清除寄存器(GPIOx_BRR)(x = A...E)
   低16位写1用于置位。
   
7、端口配置锁定寄存器(GPIOx_LCKR)(x = A...E)

GPIO八种模式
typedef enum
{ GPIO_Mode_AIN = 0x0,            /* 模拟输入 */   
  GPIO_Mode_IN_FLOATING = 0x04,   /* 浮空输入，复位后的状态 */
  GPIO_Mode_IPD = 0x28,           /* 下拉输入 */
  GPIO_Mode_IPU = 0x48,           /* 上拉输入 */
  GPIO_Mode_Out_OD = 0x14,        /* 开漏输出 */
  GPIO_Mode_Out_PP = 0x10,        /* 推挽输出 */
  GPIO_Mode_AF_OD = 0x1C,         /* 复用开漏输出 */
  GPIO_Mode_AF_PP = 0x18          /* 复用推挽输出 */
}GPIOMode_TypeDef;




/*********************************************************************************************/

【*】 联系我们

-野火论坛    :http://www.firebbs.cn
-淘宝店铺    :https://yehuosm.tmall.com/

/*********************************************************************************************/